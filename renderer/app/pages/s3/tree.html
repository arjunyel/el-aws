<main
  [contextMenu]="contextMenu"
  [contextMenuSubject]="null">

  <elaws-branch
    [contextMenu]="contextMenu"
    [descriptorsByPath]="descriptorsByPath"
    [dictionary]="dictionary"
    [level]="0"
    [path]="view.paths[0]"
    [prefs]="prefs"
    [s3]="s3"
    [selection]="selection"
    [view]="view">
  </elaws-branch>

  <div
    *ngIf="!areBucketsLoaded()"
    class="no-data">

    <fa-icon
      [icon]="['fas', 'spinner']"
      [pulse]="true"
      size="4x">
    </fa-icon>

  </div>

</main>

<context-menu>

  <ng-template
    contextMenuItem
    (execute)="onExecute($event, 'create')">
    <div>Create bucket...</div>
  </ng-template>

  <ng-template
    contextMenuItem
    (execute)="onExecute($event, 'delete-bucket')"
    [enabled]="isBucket.bind(this)">
    <div>Delete bucket</div>
  </ng-template>

  <ng-template
    contextMenuItem
    (execute)="onExecute($event, 'delete-objects')"
    [enabled]="isObject.bind(this)">
    <div>Delete object(s)</div>
  </ng-template>

  <ng-template
    contextMenuItem
    divider="true">
  </ng-template>

  <ng-template
    contextMenuItem
    (execute)="onExecute($event, 'filter')"
    [enabled]="isBucket.bind(this)">
    <div>Filter...</div>
  </ng-template>

  <ng-template
    contextMenuItem
    (execute)="onExecute($event, 'properties')"
    [enabled]="hasProperties.bind(this)">
    <div>Properties...</div>
  </ng-template>

  <ng-template
    contextMenuItem
    divider="true">
  </ng-template>

  <ng-template
    contextMenuItem
    (execute)="onExecute($event, 'download')"
    [enabled]="isObject.bind(this)">
    <div>Download</div>
  </ng-template>

  <ng-template
    contextMenuItem
    (execute)="onExecute($event, 'url')"
    [enabled]="hasURL.bind(this)">
    <div>Copy URL to clipboard</div>
  </ng-template>

</context-menu>
